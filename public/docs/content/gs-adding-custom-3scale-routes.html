<!doctype html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Creating custom URLs for 3scale APIs :: Integreatly Docs</title><meta name="generator" content="Antora 2.0.0"><link rel="stylesheet" href="../../_/css/site.css"></head><body class="article"><header class="header"><nav class="navbar shadow border-bottom"><div class="navbar-brand"><a class="navbar-item logo" href="../.." title="Integreatly Docs"></a><button class="navbar-burger" data-target="topbar-nav"></button></div><div id="topbar-nav" class="navbar-menu"><div class="navbar-end"><a class="navbar-item" href="../../">Home</a><div class="navbar-item has-dropdown is-hoverable"><a class="navbar-link" href="../../docs/getting-started.html">Docs</a><div class="navbar-dropdown"><a class="navbar-item" href="../../docs/getting-started.html">Getting started</a><a class="navbar-item" href="../../docs/release-notes.html">Release Notes</a><a class="navbar-item" href="../../docs/walkthroughs.html">Solution Patterns</a></div></div><div class="navbar-item has-dropdown is-hoverable"><a class="navbar-link" href="../../i8y-community/">Community</a><div class="navbar-dropdown"><a class="navbar-item" href="../../i8y-community/contributing/">Contributing</a><a class="navbar-item" href="../../i8y-community/team/">Team</a></div></div><a class="navbar-item" href="../../news/">News</a></div></div></nav></header><div class="main-wrapper"><div class="navigation-container" data-component="docs" data-version="master"><aside class="navigation"><div class="panels"><div class="navigation-menu is-active" data-panel="menu"><nav class="nav-menu"><h3 class="title"><a href="/docs/index.html">Integreatly</a></h3><ul class="nav-list"><li class="nav-item" data-depth="0"><ul class="nav-list"><li class="nav-item" data-depth="1"><a class="nav-link" href="../getting-started.html">Getting Started</a></li><li class="nav-item" data-depth="1"><a class="nav-link" href="../release-notes.html">Release Notes</a></li><li class="nav-item" data-depth="1"><a class="nav-link" href="../walkthroughs.html">Solution Patterns</a></li></ul></li></ul></nav></div><div class="navigation-explore" data-panel="explore"><div class="context"><span class="title">Integreatly</span><span class="version">master</span></div><ul class="components"><li class="component is-current"><span class="title">Integreatly</span><ul class="versions"><li class="version is-current is-latest"><a href="../index.html">master</a></li></ul></li></ul></div></div></aside></div><main class="main"><div class="toolbar" role="navigation"><button class="navigation-toggle"></button><a href="../getting-started.html" class="home-link"></a><nav class="crumbs" aria-label="breadcrumbs"><ul><li class="crumb"><a href="../index.html">Integreatly</a></li><li class="crumb"><a href="gs-adding-custom-3scale-routes.html">Creating custom URLs for 3scale APIs</a></li></ul></nav></div><article class="doc"><h1>Creating custom URLs for 3scale APIs</h1><div class="admonitionblock note"><table><tr><td class="icon"><i class="fa icon-note" title="Note"></i></td><td class="content">You cannot delete any routes created using the procedure described below.</td></tr></table></div><div class="paragraph"><p>If you use 3scale to manage your API, you might require that the API URL use a specific host and format. For example, you might want to expose an API as<code><a href="https://mydomain.com/v1/getStuff" class="bare">https://mydomain.com/v1/getStuff</a></code>. To use a custom domain, you must create a route in the OpenShift 3scale project as described below.</p></div><div class="ulist"><div class="title">Prerequisites</div><ul><li><p>the<code>customer-admin</code>user credentials</p></li><li><p>a custom domain registration</p></li></ul></div><div class="paragraph"><div class="title">Procedure</div><p>A new OpenShift route for the public has to be created.</p></div><div class="olist arabic"><ol class="arabic"><li><p>Log in as<code>customer-admin</code>:</p><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ oc login -u customer-admin</code></pre></div></div></li><li><p>Create a file named<code>custom-route.yaml</code>using the appropriate values for<code>&lt;route name&gt;</code>and<code>&lt;route host&gt;</code>:</p><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-yaml hljs" data-lang="yaml">apiVersion: route.openshift.io/v1
kind: Route
metadata:
  name: &lt;route name&gt;
  namespace: openshift-3scale
spec:
  host: &lt;route host&gt;
  port:
    targetPort: gateway
  tls:
    insecureEdgeTerminationPolicy: None
    termination: edge
  to:
    kind: Service
    name: apicast-staging
    weight: 100
  wildcardPolicy: None</code></pre></div></div></li><li><p>Create the route:</p><div class="listingblock"><div class="content"><pre class="highlightjs highlight"><code class="language-bash hljs" data-lang="bash">$ oc create -f ./custom-route.yaml</code></pre></div></div></li><li><p>Set up your public base URL in APIcast as described in the<a href="https://access.redhat.com/documentation/en-us/red_hat_3scale_api_management/2.4/html-single/deployment_options/index#configure_your_service">3scale documentation</a>.</p></li></ol></div><div class="paragraph"><div class="title">Additional Information</div><p>See the<a href="https://access.redhat.com/documentation/en-us/red_hat_3scale_api_management/2.4/html-single/deployment_options/index#public_base_url">Public Base URL</a>documentation for an introduction to custom URLs.</p></div></article></main></div><footer class="footer"><div class="wrap"><div class="logo"></div><div><h3>Product sites</h3><ul><li><a href="">3scale</a></li><li><a href="">Che</a></li><li><a href="">EnMasse</a></li><li><a href="">Fuse Online</a></li><li><a href="">Launcher</a></li><li><a href="">RH-SSO</a></li><li><a href="">Solution Explorer</a></li><li><a href="">Apicurito</a></li><li><a href="">Nexus</a></li></ul></div><div><h3>Community</h3><ul><li><a href="">Github</a></li><li><a href="">Jira Repo Issues</a></li><li><a href="">Contribution Guide</a></li><li><a href="">Google Group</a></li><li><a href="">IRC</a></li></ul></div><div><h3>Social</h3><ul><li><a href="">Twitter</a></li><li><a href="">YouTube</a></li><li><a href="">Feed</a></li></ul></div></div><div class="copyright">The Integreatly project is licensed under the<a href="http://www.apache.org/licenses/LICENSE-2.0">Apache 2.0</a>License, and is subject to the<a href="/legal/export">Export Policy</a>.</div></footer><script src="../../_/js/site.js"></script><script src="../../_/js/vendor/highlight.js"></script><script>hljs.initHighlighting()</script></body></html>